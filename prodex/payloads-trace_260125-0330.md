*Generated by [Prodex](https://github.com/emxhive/prodex#readme)*
> Note for LLMs: `Lx-Ly` ranges refer to lines in this Prodex trace file, not the original source files. Index metadata is provided via the HTML comment markers in this section.

# Index
<!-- PRODEX_INDEX_RANGE: L8-L74 -->
<!-- PRODEX_FILE_COUNT: 67 -->
<!-- PRODEX_INDEX_LIST_START -->
- [src/Payloads/Common/DriverRegistration.php](#1)  L78-L119
- [src/Payloads/Common/ProviderConfig.php](#2)  L120-L201
- [src/Payloads/Requests/Balance/GetBalanceRequest.php](#3)  L202-L230
- [src/Payloads/Requests/Bulk/BulkCreateOrdersRequest.php](#4)  L231-L269
- [src/Payloads/Requests/Bulk/BulkGetOrderStatusRequest.php](#5)  L270-L307
- [src/Payloads/Requests/Catalog/GetOperationInputSchemaRequest.php](#6)  L308-L349
- [src/Payloads/Requests/Catalog/GetServiceInputSchemaRequest.php](#7)  L350-L389
- [src/Payloads/Requests/Catalog/GetServiceSchemaForServiceRequest.php](#8)  L390-L426
- [src/Payloads/Requests/Catalog/GetServiceSchemaSnapshotRequest.php](#9)  L427-L461
- [src/Payloads/Requests/Catalog/ListServicesRequest.php](#10)  L462-L505
- [src/Payloads/Requests/Contract/CreateContractRequest.php](#11)  L506-L550
- [src/Payloads/Requests/Contract/GetContractStatusRequest.php](#12)  L551-L587
- [src/Payloads/Requests/Contract/QuoteContractRequest.php](#13)  L588-L629
- [src/Payloads/Requests/Discovery/ResolveProviderServiceRequest.php](#14)  L630-L663
- [src/Payloads/Requests/DripFeed/CancelDripFeedRequest.php](#15)  L664-L696
- [src/Payloads/Requests/DripFeed/CreateDripFeedRequest.php](#16)  L697-L739
- [src/Payloads/Requests/DripFeed/GetDripFeedStatusRequest.php](#17)  L740-L772
- [src/Payloads/Requests/Infra/AuthApplyRequest.php](#18)  L773-L808
- [src/Payloads/Requests/Infra/HttpRequestDto.php](#19)  L809-L859
- [src/Payloads/Requests/Infra/MakeIdempotencyKeyRequest.php](#20)  L860-L896
- [src/Payloads/Requests/Infra/NormalizeErrorRequest.php](#21)  L897-L955
- [src/Payloads/Requests/Infra/RateLimitHintRequest.php](#22)  L956-L992
- [src/Payloads/Requests/Infra/RetryDecisionRequest.php](#23)  L993-L1031
- [src/Payloads/Requests/Ops/AuditRecordRequest.php](#24)  L1032-L1072
- [src/Payloads/Requests/Ops/HealthCheckRequest.php](#25)  L1073-L1101
- [src/Payloads/Requests/Ops/ParseWebhookRequest.php](#26)  L1102-L1141
- [src/Payloads/Requests/Orders/CancelOrderRequest.php](#27)  L1142-L1174
- [src/Payloads/Requests/Orders/CreateOrderRequest.php](#28)  L1175-L1221
- [src/Payloads/Requests/Orders/GetOrderStatusRequest.php](#29)  L1222-L1254
- [src/Payloads/Requests/Refill/CreateRefillRequest.php](#30)  L1255-L1294
- [src/Payloads/Requests/Refill/GetRefillStatusRequest.php](#31)  L1295-L1327
- [src/Payloads/Requests/Subscription/CancelSubscriptionRequest.php](#32)  L1328-L1360
- [src/Payloads/Requests/Subscription/CreateSubscriptionRequest.php](#33)  L1361-L1403
- [src/Payloads/Requests/Subscription/GetSubscriptionStatusRequest.php](#34)  L1404-L1436
- [src/Payloads/Responses/Balance/GetBalanceResponse.php](#35)  L1437-L1470
- [src/Payloads/Responses/Bulk/BulkCreateOrdersResponse.php](#36)  L1471-L1509
- [src/Payloads/Responses/Bulk/BulkGetOrderStatusResponse.php](#37)  L1510-L1548
- [src/Payloads/Responses/Catalog/GetOperationInputSchemaResponse.php](#38)  L1549-L1597
- [src/Payloads/Responses/Catalog/GetServiceInputSchemaResponse.php](#39)  L1598-L1633
- [src/Payloads/Responses/Catalog/GetServiceSchemaForServiceResponse.php](#40)  L1634-L1668
- [src/Payloads/Responses/Catalog/GetServiceSchemaSnapshotResponse.php](#41)  L1669-L1699
- [src/Payloads/Responses/Catalog/ListServicesResponse.php](#42)  L1700-L1740
- [src/Payloads/Responses/Contract/CreateContractResponse.php](#43)  L1741-L1780
- [src/Payloads/Responses/Contract/GetContractStatusResponse.php](#44)  L1781-L1820
- [src/Payloads/Responses/Contract/QuoteContractResponse.php](#45)  L1821-L1857
- [src/Payloads/Responses/Discovery/GetDriverManifestResponse.php](#46)  L1858-L1890
- [src/Payloads/Responses/Discovery/ResolveProviderServiceResponse.php](#47)  L1891-L1926
- [src/Payloads/Responses/DripFeed/CancelDripFeedResponse.php](#48)  L1927-L1968
- [src/Payloads/Responses/DripFeed/CreateDripFeedResponse.php](#49)  L1969-L2002
- [src/Payloads/Responses/DripFeed/GetDripFeedStatusResponse.php](#50)  L2003-L2036
- [src/Payloads/Responses/Infra/AuthApplyResponse.php](#51)  L2037-L2066
- [src/Payloads/Responses/Infra/HttpResponseDto.php](#52)  L2067-L2111
- [src/Payloads/Responses/Infra/MakeIdempotencyKeyResponse.php](#53)  L2112-L2141
- [src/Payloads/Responses/Infra/NormalizeErrorResponse.php](#54)  L2142-L2189
- [src/Payloads/Responses/Infra/RateLimitHintResponse.php](#55)  L2190-L2223
- [src/Payloads/Responses/Infra/RetryDecisionResponse.php](#56)  L2224-L2256
- [src/Payloads/Responses/Ops/AuditRecordResponse.php](#57)  L2257-L2287
- [src/Payloads/Responses/Ops/HealthCheckResponse.php](#58)  L2288-L2330
- [src/Payloads/Responses/Ops/ParseWebhookResponse.php](#59)  L2331-L2362
- [src/Payloads/Responses/Orders/CancelOrderResponse.php](#60)  L2363-L2404
- [src/Payloads/Responses/Orders/CreateOrderResponse.php](#61)  L2405-L2438
- [src/Payloads/Responses/Orders/GetOrderStatusResponse.php](#62)  L2439-L2472
- [src/Payloads/Responses/Refill/CreateRefillResponse.php](#63)  L2473-L2506
- [src/Payloads/Responses/Refill/GetRefillStatusResponse.php](#64)  L2507-L2540
- [src/Payloads/Responses/Subscription/CancelSubscriptionResponse.php](#65)  L2541-L2582
- [src/Payloads/Responses/Subscription/CreateSubscriptionResponse.php](#66)  L2583-L2616
- [src/Payloads/Responses/Subscription/GetSubscriptionStatusResponse.php](#67)  L2617-L2653
<!-- PRODEX_INDEX_LIST_END -->

---
---
#### 1


` File: src/Payloads/Common/DriverRegistration.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Common;

use Dgp\Sdk\Contracts\Driver\DriverLinkContract;
use JsonSerializable;

final readonly class DriverRegistration implements JsonSerializable
{
    /**
     * @param int|string $handlerId Host identifier (typically your dgp_handler id)
     * @param string $driverKey Registered driver key
     * @param class-string<DriverLinkContract> $linkClass Host adapter class to instantiate from handlerId
     * @param array<string,mixed> $meta Optional host metadata (label, group, etc.)
     */
    public function __construct(
        public int|string $handlerId,
        public string $driverKey,
        public string $linkClass,
        public array $meta = [],
    ) {}

    public function jsonSerialize(): array
    {
        return array_filter([
            'handlerId' => $this->handlerId,
            'driverKey' => $this->driverKey,
            'linkClass' => $this->linkClass,
            'meta' => $this->meta ?: null,
        ], static fn ($v) => $v !== null);
    }
}
```

---
#### 2


` File: src/Payloads/Common/ProviderConfig.php`  [↑ Back to top](#index)

```php
<?php declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Common;

use JsonSerializable;

/**
 * Runtime config for a DGP provider driver.
 *
 * - options: non-sensitive config (base URL, timeouts, mode flags, etc.)
 * - secrets: sensitive keys (api_key, token, secret, etc.)
 *
 * NOTE: secrets are intentionally excluded from jsonSerialize() by default.
 */
final readonly class ProviderConfig implements JsonSerializable
{
    /**
     * @param array<string,mixed> $options
     * @param array<string,mixed> $secrets
     */
    public function __construct(
        public bool  $sandbox = false,
        public array $options = [],
        public array $secrets = [],
    )
    {
    }

    public function isSandbox(): bool
    {
        return $this->sandbox;
    }

    public function option(string $key, mixed $default = null): mixed
    {
        return $this->options[$key] ?? $default;
    }

    public function secret(string $key, mixed $default = null): mixed
    {
        return $this->secrets[$key] ?? $default;
    }

    /**
     * Public serialization (safe by default).
     */
    public function jsonSerialize(): array
    {
        return [
            'sandbox' => $this->sandbox,
            'options' => $this->options,
            // secrets intentionally excluded
        ];
    }

    /** @return array{sandbox:bool,options:array<string,mixed>} */
    public function toPublicArray(): array
    {
        /** @var array{sandbox:bool,options:array<string,mixed>} $arr */
        $arr = $this->jsonSerialize();
        return $arr;
    }

    /** @return array{sandbox:bool,options:array<string,mixed>,secrets:array<string,mixed>} */
    public function toPrivateArray(): array
    {
        return [
            'sandbox' => $this->sandbox,
            'options' => $this->options,
            'secrets' => $this->secrets,
        ];
    }
}
```

---
#### 3


` File: src/Payloads/Requests/Balance/GetBalanceRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Balance;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;

final class GetBalanceRequest implements Arrayable, JsonSerializable
{
    public function toArray(): array
    {
        return [];
    }

    public function jsonSerialize(): array
    {
        return [];
    }
}
```

---
#### 4


` File: src/Payloads/Requests/Bulk/BulkCreateOrdersRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Bulk;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;
use Dgp\Sdk\Payloads\Requests\Orders\CreateOrderRequest;

final readonly class BulkCreateOrdersRequest implements Arrayable, JsonSerializable
{
    /**
     * @param CreateOrderRequest[] $orders
     */
    public function __construct(
        public array $orders,
    ) {}

    public function toArray(): array
    {
        return [
            'orders' => array_map(static fn (CreateOrderRequest $o) => $o->toArray(), $this->orders),
        ];
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 5


` File: src/Payloads/Requests/Bulk/BulkGetOrderStatusRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Bulk;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;

final readonly class BulkGetOrderStatusRequest implements Arrayable, JsonSerializable
{
    /**
     * @param string[] $providerOrderIds
     */
    public function __construct(
        public array $providerOrderIds,
    ) {}

    public function toArray(): array
    {
        return [
            'provider_order_ids' => array_values($this->providerOrderIds),
        ];
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 6


` File: src/Payloads/Requests/Catalog/GetOperationInputSchemaRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Catalog;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;

final readonly class GetOperationInputSchemaRequest implements Arrayable, JsonSerializable
{
    /**
     * @param array<string, mixed>|null $context
     */
    public function __construct(
        public string          $operation,
        public string|int|null $serviceId = null,
        public ?array          $context = null,
    ) {}

    public function toArray(): array
    {
        return array_filter([
            'operation' => $this->operation,
            'service_id' => $this->serviceId,
            'context' => $this->context,
        ], static fn ($v) => $v !== null);
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 7


` File: src/Payloads/Requests/Catalog/GetServiceInputSchemaRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Catalog;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;

final readonly class GetServiceInputSchemaRequest implements Arrayable, JsonSerializable
{
    /**
     * @param array<string, mixed>|null $context
     */
    public function __construct(
        public string $serviceId,
        public ?array $context = null,
    ) {}

    public function toArray(): array
    {
        return array_filter([
            'service_id' => $this->serviceId,
            'context' => $this->context,
        ], static fn ($v) => $v !== null);
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 8


` File: src/Payloads/Requests/Catalog/GetServiceSchemaForServiceRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Catalog;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;

final readonly class GetServiceSchemaForServiceRequest implements Arrayable, JsonSerializable
{
    /**
     * @param array<string, mixed>|null $context
     */
    public function __construct(
        public string $serviceId,
        public ?array $context = null,
    ) {}

    public function toArray(): array
    {
        return array_filter([
            'service_id' => $this->serviceId,
            'context' => $this->context,
        ], static fn ($v) => $v !== null);
    }

    public function jsonSerialize(): array { return $this->toArray(); }
}
```

---
#### 9


` File: src/Payloads/Requests/Catalog/GetServiceSchemaSnapshotRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Catalog;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;

final readonly class GetServiceSchemaSnapshotRequest implements Arrayable, JsonSerializable
{
    /**
     * @param array<string, mixed>|null $context
     */
    public function __construct(
        public ?array $context = null,
    ) {}

    public function toArray(): array
    {
        return array_filter([
            'context' => $this->context,
        ], static fn ($v) => $v !== null);
    }

    public function jsonSerialize(): array { return $this->toArray(); }
}
```

---
#### 10


` File: src/Payloads/Requests/Catalog/ListServicesRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Catalog;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;

final readonly class ListServicesRequest implements Arrayable, JsonSerializable
{
    /**
     * @param array<string, mixed>|null $context
     */
    public function __construct(
        public ?int    $limit = 500,
        public ?string $cursor = null,
        public ?array  $context = null,
    )
    {
    }

    public function toArray(): array
    {
        return array_filter([
            'limit' => $this->limit,
            'cursor' => $this->cursor,
            'context' => $this->context,
        ], static fn($v) => $v !== null);
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 11


` File: src/Payloads/Requests/Contract/CreateContractRequest.php`  [↑ Back to top](#index)

```php
<?php declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Contract;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Normalizes;
use Dgp\Sdk\Types\Contract\ContractQuoteRef;

final class CreateContractRequest implements JsonSerializable
{
    use Normalizes;

    /**
     * @param string|int $service_id Provider service id from ServiceDefinition::id
     * @param array<string,mixed> $inputs Same inputs used to generate the quote (host should reuse)
     * @param array<string,mixed>|null $meta Optional extras (bag)
     */
    public function __construct(
        public readonly string|int       $service_id,
        public readonly ContractQuoteRef $quote,
        public readonly array            $inputs,
        public readonly ?array           $meta = null,
    )
    {
    }

    public function jsonSerialize(): array
    {
        return $this->normalize([
            'service_id' => $this->service_id,
            'quote' => $this->quote,
            'inputs' => $this->inputs,
            'meta' => $this->meta,
        ]);
    }
}
```

---
#### 12


` File: src/Payloads/Requests/Contract/GetContractStatusRequest.php`  [↑ Back to top](#index)

```php
<?php declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Contract;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Normalizes;
use Dgp\Sdk\Types\Contract\ContractRef;

final class GetContractStatusRequest implements JsonSerializable
{
    use Normalizes;

    /**
     * @param array<string,mixed>|null $meta Optional extras (bag)
     */
    public function __construct(
        public readonly ContractRef $contract,
        public readonly ?array $meta = null,
    ) {}

    public function jsonSerialize(): array
    {
        return $this->normalize([
            'contract' => $this->contract,
            'meta' => $this->meta,
        ]);
    }
}
```

---
#### 13


` File: src/Payloads/Requests/Contract/QuoteContractRequest.php`  [↑ Back to top](#index)

```php
<?php declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Contract;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Normalizes;

final class QuoteContractRequest implements JsonSerializable
{
    use Normalizes;

    /**
     * @param string|int $service_id Provider service id from ServiceDefinition::id
     * @param array<string,mixed> $inputs Provider-specific inputs for this contract service
     * @param array<string,mixed>|null $meta Optional extras (bag)
     */
    public function __construct(
        public readonly string|int $service_id,
        public readonly array      $inputs,
        public readonly ?array     $meta = null,
    )
    {
    }

    public function jsonSerialize(): array
    {
        return $this->normalize([
            'service_id' => $this->service_id,
            'inputs' => $this->inputs,
            'meta' => $this->meta,
        ]);
    }
}
```

---
#### 14


` File: src/Payloads/Requests/Discovery/ResolveProviderServiceRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Discovery;

use JsonSerializable;

final readonly class ResolveProviderServiceRequest implements JsonSerializable
{
    /**
     * @param array<string,mixed>|null $context
     */
    public function __construct(
        public string|int $internalServiceId,
        public ?array     $context = null,
    ) {}

    public function jsonSerialize(): array
    {
        return array_filter([
            'internalServiceId' => $this->internalServiceId,
            'context' => $this->context,
        ], static fn ($v) => $v !== null);
    }
}
```

---
#### 15


` File: src/Payloads/Requests/DripFeed/CancelDripFeedRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\DripFeed;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;

final readonly class CancelDripFeedRequest implements Arrayable, JsonSerializable
{
    public function __construct(
        public string $providerDripFeedId,
    ) {}

    public function toArray(): array
    {
        return ['provider_dripfeed_id' => $this->providerDripFeedId];
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 16


` File: src/Payloads/Requests/DripFeed/CreateDripFeedRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\DripFeed;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;

final readonly class CreateDripFeedRequest implements Arrayable, JsonSerializable
{
    /**
     * @param array<string, mixed> $inputs
     * @param array<string, mixed>|null $meta
     */
    public function __construct(
        public string|int $serviceId,
        public array      $inputs = [],
        public ?array     $meta = null,
    ) {}

    public function toArray(): array
    {
        return array_filter([
            'service_id' => $this->serviceId,
            'inputs' => $this->inputs,
            'meta' => $this->meta,
        ], static fn ($v) => $v !== null);
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 17


` File: src/Payloads/Requests/DripFeed/GetDripFeedStatusRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\DripFeed;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;

final readonly class GetDripFeedStatusRequest implements Arrayable, JsonSerializable
{
    public function __construct(
        public string $providerDripFeedId,
    ) {}

    public function toArray(): array
    {
        return ['provider_dripfeed_id' => $this->providerDripFeedId];
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 18


` File: src/Payloads/Requests/Infra/AuthApplyRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Infra;

use JsonSerializable;

final readonly class AuthApplyRequest implements JsonSerializable
{
    /**
     * @param array<string,mixed>|null $context
     */
    public function __construct(
        public string         $operation,
        public HttpRequestDto $httpRequest,
        public ?array         $context = null,
    ) {}

    public function jsonSerialize(): array
    {
        return array_filter([
            'operation' => $this->operation,
            'httpRequest' => $this->httpRequest,
            'context' => $this->context,
        ], static fn ($v) => $v !== null);
    }
}
```

---
#### 19


` File: src/Payloads/Requests/Infra/HttpRequestDto.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Infra;

use JsonSerializable;
use Dgp\Sdk\Types\Infra\HttpMethod;
use Dgp\Sdk\Support\Serialization\Arrayable;

final readonly class HttpRequestDto implements Arrayable, JsonSerializable
{
    /**
     * @param array<string, string> $headers
     * @param array<string, mixed>|null $query
     * @param array<string, mixed>|string|null $body
     */
    public function __construct(
        public HttpMethod        $method,
        public string            $url,
        public array             $headers = [],
        public ?array            $query = null,
        public array|string|null $body = null,
        public ?int              $timeoutMs = null,
    ) {}

    public function toArray(): array
    {
        return array_filter([
            'method' => $this->method->value,
            'url' => $this->url,
            'headers' => $this->headers,
            'query' => $this->query,
            'body' => $this->body,
            'timeout_ms' => $this->timeoutMs,
        ], static fn ($v) => $v !== null);
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 20


` File: src/Payloads/Requests/Infra/MakeIdempotencyKeyRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Infra;

use JsonSerializable;

final class MakeIdempotencyKeyRequest implements JsonSerializable
{
    /**
     * @param array<string,mixed> $fingerprint Stable input: serviceId/link/quantity/etc.
     * @param array<string,mixed>|null $context
     */
    public function __construct(
        public readonly string $operation,
        public readonly array $fingerprint,
        public readonly ?array $context = null,
    ) {}

    public function jsonSerialize(): array
    {
        return array_filter([
            'operation' => $this->operation,
            'fingerprint' => $this->fingerprint,
            'context' => $this->context,
        ], static fn ($v) => $v !== null);
    }
}
```

---
#### 21


` File: src/Payloads/Requests/Infra/NormalizeErrorRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Infra;

use JsonSerializable;
use Dgp\Sdk\Payloads\Responses\Infra\HttpResponseDto;

/**
 * Carrier for “anything that went wrong” so a driver can normalize consistently.
 */
final class NormalizeErrorRequest implements JsonSerializable
{
    /**
     * @param array<string,mixed>|null $context
     * @param array<string,mixed>|null $providerPayload Parsed provider response payload if available
     * @param array<string,mixed>|null $meta Extra safe metadata (already redacted)
     */
    public function __construct(
        public readonly string $operation,                 // e.g. "catalog.list", "order.create"
        public readonly ?string $driverKey = null,         // optional: for logging/trace
        public readonly ?HttpRequestDto $httpRequest = null,
        public readonly ?HttpResponseDto $httpResponse = null,

        // provider payload (decoded json) or raw body (string) if decoding failed
        public readonly array|string|null $providerPayload = null,

        // exception info (for transport/system errors)
        public readonly ?string $exceptionClass = null,
        public readonly ?string $exceptionMessage = null,

        public readonly ?array $context = null,
        public readonly ?array $meta = null,
    ) {}

    public function jsonSerialize(): array
    {
        return array_filter([
            'operation' => $this->operation,
            'driverKey' => $this->driverKey,
            'httpRequest' => $this->httpRequest,
            'httpResponse' => $this->httpResponse,
            'providerPayload' => $this->providerPayload,
            'exceptionClass' => $this->exceptionClass,
            'exceptionMessage' => $this->exceptionMessage,
            'context' => $this->context,
            'meta' => $this->meta,
        ], static fn ($v) => $v !== null);
    }
}
```

---
#### 22


` File: src/Payloads/Requests/Infra/RateLimitHintRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Infra;

use JsonSerializable;
use Dgp\Sdk\Payloads\Responses\Infra\HttpResponseDto;

final class RateLimitHintRequest implements JsonSerializable
{
    /**
     * @param array<string,mixed>|null $context
     */
    public function __construct(
        public readonly string $operation,
        public readonly ?HttpResponseDto $lastResponse = null,
        public readonly ?array $context = null,
    ) {}

    public function jsonSerialize(): array
    {
        return array_filter([
            'operation' => $this->operation,
            'lastResponse' => $this->lastResponse,
            'context' => $this->context,
        ], static fn ($v) => $v !== null);
    }
}
```

---
#### 23


` File: src/Payloads/Requests/Infra/RetryDecisionRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Infra;

use JsonSerializable;
use Dgp\Sdk\Support\DgpError;

final class RetryDecisionRequest implements JsonSerializable
{
    /**
     * @param array<string,mixed>|null $context
     */
    public function __construct(
        public readonly string $operation,
        public readonly int $attempt,
        public readonly DgpError $error,
        public readonly ?array $context = null,
    ) {}

    public function jsonSerialize(): array
    {
        return array_filter([
            'operation' => $this->operation,
            'attempt' => $this->attempt,
            'error' => $this->error,
            'context' => $this->context,
        ], static fn ($v) => $v !== null);
    }
}
```

---
#### 24


` File: src/Payloads/Requests/Ops/AuditRecordRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Ops;

use JsonSerializable;

final class AuditRecordRequest implements JsonSerializable
{
    /**
     * @param array<string,mixed>|null $payload
     * @param array<string,mixed>|null $meta
     */
    public function __construct(
        public readonly string $stage,     // e.g. "request", "response", "error"
        public readonly string $operation, // e.g. "order.create"
        public readonly ?string $driverKey = null,
        public readonly ?array $payload = null,
        public readonly ?array $meta = null,
    ) {}

    public function jsonSerialize(): array
    {
        return array_filter([
            'stage' => $this->stage,
            'operation' => $this->operation,
            'driverKey' => $this->driverKey,
            'payload' => $this->payload,
            'meta' => $this->meta,
        ], static fn ($v) => $v !== null);
    }
}
```

---
#### 25


` File: src/Payloads/Requests/Ops/HealthCheckRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Ops;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;

final class HealthCheckRequest implements Arrayable, JsonSerializable
{
    public function toArray(): array
    {
        return [];
    }

    public function jsonSerialize(): array
    {
        return [];
    }
}
```

---
#### 26


` File: src/Payloads/Requests/Ops/ParseWebhookRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Ops;

use Dgp\Sdk\Types\Infra\HttpMethod;
use JsonSerializable;

final readonly class ParseWebhookRequest implements JsonSerializable
{
    /**
     * @param array<string,string> $headers
     * @param array<string,mixed>|string|null $body
     */
    public function __construct(
        public HttpMethod            $method,
        public array             $headers,
        public array|string|null $body,
        public ?string           $rawBody = null, // if you want exact bytes for signature verification
    ) {}

    public function jsonSerialize(): array
    {
        return array_filter([
            'method' => $this->method->value,
            'headers' => $this->headers,
            'body' => $this->body,
            'rawBody' => $this->rawBody,
        ], static fn ($v) => $v !== null);
    }
}
```

---
#### 27


` File: src/Payloads/Requests/Orders/CancelOrderRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Orders;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;

final readonly class CancelOrderRequest implements Arrayable, JsonSerializable
{
    public function __construct(
        public string $providerOrderId,
    ) {}

    public function toArray(): array
    {
        return ['provider_order_id' => $this->providerOrderId];
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 28


` File: src/Payloads/Requests/Orders/CreateOrderRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Orders;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;

final readonly class CreateOrderRequest implements Arrayable, JsonSerializable
{
    /**
     * @param array<string, mixed> $fields
     * @param array<string, mixed>|null $meta
     */
    public function __construct(
        public string  $serviceId,
        public int     $quantity,
        public array   $fields = [],              // generic field bag: link, username, comments, etc
        public ?string $idempotencyKey = null,  // host provided key (optional)
        public ?array  $meta = null,
    ) {}

    public function toArray(): array
    {
        return array_filter([
            'service_id' => $this->serviceId,
            'quantity' => $this->quantity,
            'fields' => $this->fields,
            'idempotency_key' => $this->idempotencyKey,
            'meta' => $this->meta,
        ], static fn ($v) => $v !== null);
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 29


` File: src/Payloads/Requests/Orders/GetOrderStatusRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Orders;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;

final readonly class GetOrderStatusRequest implements Arrayable, JsonSerializable
{
    public function __construct(
        public string $providerOrderId,
    ) {}

    public function toArray(): array
    {
        return ['provider_order_id' => $this->providerOrderId];
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 30


` File: src/Payloads/Requests/Refill/CreateRefillRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Refill;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;

final readonly class CreateRefillRequest implements Arrayable, JsonSerializable
{
    /**
     * @param array<string, mixed>|null $meta
     */
    public function __construct(
        public string $providerOrderId,
        public ?array $meta = null,
    ) {}

    public function toArray(): array
    {
        return array_filter([
            'provider_order_id' => $this->providerOrderId,
            'meta' => $this->meta,
        ], static fn ($v) => $v !== null);
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 31


` File: src/Payloads/Requests/Refill/GetRefillStatusRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Refill;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;

final readonly class GetRefillStatusRequest implements Arrayable, JsonSerializable
{
    public function __construct(
        public string $providerRefillId,
    ) {}

    public function toArray(): array
    {
        return ['provider_refill_id' => $this->providerRefillId];
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 32


` File: src/Payloads/Requests/Subscription/CancelSubscriptionRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Subscription;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;

final readonly class CancelSubscriptionRequest implements Arrayable, JsonSerializable
{
    public function __construct(
        public string $providerSubscriptionId,
    ) {}

    public function toArray(): array
    {
        return ['provider_subscription_id' => $this->providerSubscriptionId];
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 33


` File: src/Payloads/Requests/Subscription/CreateSubscriptionRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Subscription;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;

final readonly class CreateSubscriptionRequest implements Arrayable, JsonSerializable
{
    /**
     * @param array<string, mixed> $inputs   Provider-specific inputs (normalized by host UI or schema)
     * @param array<string, mixed>|null $meta
     */
    public function __construct(
        public string|int $serviceId,
        public array      $inputs = [],
        public ?array     $meta = null,
    ) {}

    public function toArray(): array
    {
        return array_filter([
            'service_id' => $this->serviceId,
            'inputs' => $this->inputs,
            'meta' => $this->meta,
        ], static fn ($v) => $v !== null);
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 34


` File: src/Payloads/Requests/Subscription/GetSubscriptionStatusRequest.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Requests\Subscription;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;

final readonly class GetSubscriptionStatusRequest implements Arrayable, JsonSerializable
{
    public function __construct(
        public string $providerSubscriptionId,
    ) {}

    public function toArray(): array
    {
        return ['provider_subscription_id' => $this->providerSubscriptionId];
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 35


` File: src/Payloads/Responses/Balance/GetBalanceResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Balance;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;
use Dgp\Sdk\Types\Balance\ProviderBalance;

final readonly class GetBalanceResponse implements Arrayable, JsonSerializable
{
    public function __construct(
        public ProviderBalance $balance,
    ) {}

    public function toArray(): array
    {
        return ['balance' => $this->balance->toArray()];
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 36


` File: src/Payloads/Responses/Bulk/BulkCreateOrdersResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Bulk;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;
use Dgp\Sdk\Types\Bulk\BulkCreateOrderResult;

final readonly class BulkCreateOrdersResponse implements Arrayable, JsonSerializable
{
    /**
     * @param BulkCreateOrderResult[] $results
     */
    public function __construct(
        public array $results,
    ) {}

    public function toArray(): array
    {
        return [
            'results' => array_map(static fn (BulkCreateOrderResult $r) => $r->toArray(), $this->results),
        ];
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 37


` File: src/Payloads/Responses/Bulk/BulkGetOrderStatusResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Bulk;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;
use Dgp\Sdk\Types\Bulk\BulkOrderStatusResult;

final readonly class BulkGetOrderStatusResponse implements Arrayable, JsonSerializable
{
    /**
     * @param BulkOrderStatusResult[] $results
     */
    public function __construct(
        public array $results,
    ) {}

    public function toArray(): array
    {
        return [
            'results' => array_map(static fn (BulkOrderStatusResult $r) => $r->toArray(), $this->results),
        ];
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 38


` File: src/Payloads/Responses/Catalog/GetOperationInputSchemaResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Catalog;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;
use Dgp\Sdk\Types\Service\ServiceInputSchema;

final readonly class GetOperationInputSchemaResponse implements Arrayable, JsonSerializable
{
    /**
     * @param array<string, mixed>|null $meta
     */
    public function __construct(
        public string             $operation,
        public ServiceInputSchema $schema,
        public string|int|null    $serviceId = null,
        public ?string            $schemaVersion = null,
        public ?array             $meta = null,
    )
    {
    }

    public function toArray(): array
    {
        return array_filter([
            'operation' => $this->operation,
            'service_id' => $this->serviceId,
            'schema_version' => $this->schemaVersion,
            'schema' => $this->schema->toArray(),
            'meta' => $this->meta,
        ], static fn($v) => $v !== null);
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 39


` File: src/Payloads/Responses/Catalog/GetServiceInputSchemaResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Catalog;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;
use Dgp\Sdk\Types\Service\ServiceInputSchema;

final readonly class GetServiceInputSchemaResponse implements Arrayable, JsonSerializable
{
    public function __construct(
        public ServiceInputSchema $schema,
    ) {}

    public function toArray(): array
    {
        return [
            'schema' => $this->schema->toArray(),
        ];
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 40


` File: src/Payloads/Responses/Catalog/GetServiceSchemaForServiceResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Catalog;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;
use Dgp\Sdk\Types\Schema\ServiceProps;

final readonly class GetServiceSchemaForServiceResponse implements Arrayable, JsonSerializable
{
    public function __construct(
        public string       $serviceId,
        public ServiceProps $schema,
    ) {}

    public function toArray(): array
    {
        return [
            'service_id' => $this->serviceId,
            'schema' => $this->schema->toArray(),
        ];
    }

    public function jsonSerialize(): array { return $this->toArray(); }
}
```

---
#### 41


` File: src/Payloads/Responses/Catalog/GetServiceSchemaSnapshotResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Catalog;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;
use Dgp\Sdk\Types\Schema\ServiceProps;

final readonly class GetServiceSchemaSnapshotResponse implements Arrayable, JsonSerializable
{
    public function __construct(
        public ServiceProps $schema,
    ) {}

    public function toArray(): array
    {
        return ['schema' => $this->schema->toArray()];
    }

    public function jsonSerialize(): array { return $this->toArray(); }
}
```

---
#### 42


` File: src/Payloads/Responses/Catalog/ListServicesResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Catalog;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;
use Dgp\Sdk\Types\Service\ServiceDefinition;

final readonly class ListServicesResponse implements Arrayable, JsonSerializable
{
    /**
     * @param ServiceDefinition[] $services
     */
    public function __construct(
        public array   $services,
        public ?string $nextCursor = null,
    ) {}

    public function toArray(): array
    {
        return array_filter([
            'services' => array_map(static fn (ServiceDefinition $s) => $s->toArray(), $this->services),
            'next_cursor' => $this->nextCursor,
        ], static fn ($v) => $v !== null);
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 43


` File: src/Payloads/Responses/Contract/CreateContractResponse.php`  [↑ Back to top](#index)

```php
<?php declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Contract;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Normalizes;
use Dgp\Sdk\Types\Contract\ContractRef;
use Dgp\Sdk\Types\Contract\ContractStatus;

final readonly class CreateContractResponse implements JsonSerializable
{
    use Normalizes;

    /**
     * @param array<string,mixed>|null $meta
     */
    public function __construct(
        public ContractRef $contract,
        public ContractStatus $status,
        public ?array $meta = null,
    ) {}

    public function jsonSerialize(): array
    {
        return $this->normalize([
            'contract' => $this->contract,
            'status' => $this->status,
            'meta' => $this->meta,
        ]);
    }
}
```

---
#### 44


` File: src/Payloads/Responses/Contract/GetContractStatusResponse.php`  [↑ Back to top](#index)

```php
<?php declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Contract;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Normalizes;
use Dgp\Sdk\Types\Contract\ContractRef;
use Dgp\Sdk\Types\Contract\ContractStatus;

final readonly class GetContractStatusResponse implements JsonSerializable
{
    use Normalizes;

    /**
     * @param array<string,mixed>|null $meta
     */
    public function __construct(
        public ContractRef $contract,
        public ContractStatus $status,
        public ?array $meta = null,
    ) {}

    public function jsonSerialize(): array
    {
        return $this->normalize([
            'contract' => $this->contract,
            'status' => $this->status,
            'meta' => $this->meta,
        ]);
    }
}
```

---
#### 45


` File: src/Payloads/Responses/Contract/QuoteContractResponse.php`  [↑ Back to top](#index)

```php
<?php declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Contract;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Normalizes;
use Dgp\Sdk\Types\Contract\ContractQuote;

final readonly class QuoteContractResponse implements JsonSerializable
{
    use Normalizes;

    /**
     * @param array<string,mixed>|null $meta
     */
    public function __construct(
        public ContractQuote $quote,
        public ?array $meta = null,
    ) {}

    public function jsonSerialize(): array
    {
        return $this->normalize([
            'quote' => $this->quote,
            'meta' => $this->meta,
        ]);
    }
}
```

---
#### 46


` File: src/Payloads/Responses/Discovery/GetDriverManifestResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Discovery;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Normalizes;
use Dgp\Sdk\Types\Driver\DriverManifest;

final class GetDriverManifestResponse implements JsonSerializable
{
    use Normalizes;

    public function __construct(
        public readonly DriverManifest $manifest,
    ) {}

    public function jsonSerialize(): array
    {
        return $this->normalize([
            'manifest' => $this->manifest,
        ]);
    }
}
```

---
#### 47


` File: src/Payloads/Responses/Discovery/ResolveProviderServiceResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Discovery;

use JsonSerializable;

final readonly class ResolveProviderServiceResponse implements JsonSerializable
{
    /**
     * @param array<string,mixed>|null $meta
     */
    public function __construct(
        public string|int $providerServiceId,
        public ?string    $variant = null,
        public ?array     $meta = null,
    ) {}

    public function jsonSerialize(): array
    {
        return array_filter([
            'providerServiceId' => $this->providerServiceId,
            'variant' => $this->variant,
            'meta' => $this->meta,
        ], static fn ($v) => $v !== null);
    }
}
```

---
#### 48


` File: src/Payloads/Responses/DripFeed/CancelDripFeedResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\DripFeed;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;

final readonly class CancelDripFeedResponse implements Arrayable, JsonSerializable
{
    /**
     * @param array<string, mixed>|null $meta
     */
    public function __construct(
        public bool    $cancelled,
        public ?string $providerMessage = null,
        public ?array  $meta = null,
    ) {}

    public function toArray(): array
    {
        return array_filter([
            'cancelled' => $this->cancelled,
            'provider_message' => $this->providerMessage,
            'meta' => $this->meta,
        ], static fn ($v) => $v !== null);
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 49


` File: src/Payloads/Responses/DripFeed/CreateDripFeedResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\DripFeed;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;
use Dgp\Sdk\Types\DripFeed\DripFeedRef;

final readonly class CreateDripFeedResponse implements Arrayable, JsonSerializable
{
    public function __construct(
        public DripFeedRef $dripfeed,
    ) {}

    public function toArray(): array
    {
        return ['dripfeed' => $this->dripfeed->toArray()];
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 50


` File: src/Payloads/Responses/DripFeed/GetDripFeedStatusResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\DripFeed;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;
use Dgp\Sdk\Types\DripFeed\DripFeedStatus;

final readonly class GetDripFeedStatusResponse implements Arrayable, JsonSerializable
{
    public function __construct(
        public DripFeedStatus $status,
    ) {}

    public function toArray(): array
    {
        return ['status' => $this->status->toArray()];
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 51


` File: src/Payloads/Responses/Infra/AuthApplyResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Infra;

use JsonSerializable;
use Dgp\Sdk\Payloads\Requests\Infra\HttpRequestDto;

final readonly class AuthApplyResponse implements JsonSerializable
{
    public function __construct(
        public HttpRequestDto $httpRequest,
    ) {}

    public function jsonSerialize(): array
    {
        return [
            'httpRequest' => $this->httpRequest,
        ];
    }
}
```

---
#### 52


` File: src/Payloads/Responses/Infra/HttpResponseDto.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Infra;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;

final readonly class HttpResponseDto implements Arrayable, JsonSerializable
{
    /**
     * @param array<string, string> $headers
     * @param array<string, mixed>|string|null $body
     */
    public function __construct(
        public int               $status,
        public array             $headers = [],
        public array|string|null $body = null,
    )
    {
    }

    public function toArray(): array
    {
        return array_filter([
            'status' => $this->status,
            'headers' => $this->headers,
            'body' => $this->body,
        ], static fn($v) => $v !== null);
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 53


` File: src/Payloads/Responses/Infra/MakeIdempotencyKeyResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Infra;

use JsonSerializable;
use Dgp\Sdk\Types\Infra\IdempotencyKey;

final class MakeIdempotencyKeyResponse implements JsonSerializable
{
    public function __construct(
        public readonly IdempotencyKey $key,
    ) {}

    public function jsonSerialize(): array
    {
        return [
            'key' => $this->key,
        ];
    }
}
```

---
#### 54


` File: src/Payloads/Responses/Infra/NormalizeErrorResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Infra;

use JsonSerializable;
use Dgp\Sdk\Support\DgpError;
use Dgp\Sdk\Types\Infra\ProviderRateLimit;

/**
 * Normalized error result + optional flow-control hints.
 */
final readonly class NormalizeErrorResponse implements JsonSerializable
{
    /**
     * @param array<string,mixed>|null $meta Safe extra info for host analytics/debugging (already redacted)
     */
    public function __construct(
        public DgpError           $error,

        // optional: boundary-level hints
        public ?bool              $retryable = null,
        public ?int               $retryAfterMs = null,
        public ?ProviderRateLimit $rateLimit = null,

        public ?array             $meta = null,
    ) {}

    public function jsonSerialize(): array
    {
        return array_filter([
            'error' => $this->error,
            'retryable' => $this->retryable,
            'retryAfterMs' => $this->retryAfterMs,
            'rateLimit' => $this->rateLimit,
            'meta' => $this->meta,
        ], static fn ($v) => $v !== null);
    }
}
```

---
#### 55


` File: src/Payloads/Responses/Infra/RateLimitHintResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Infra;

use JsonSerializable;
use Dgp\Sdk\Types\Infra\ProviderRateLimit;

final class RateLimitHintResponse implements JsonSerializable
{
    public function __construct(
        public readonly ?ProviderRateLimit $rateLimit = null,
        public readonly ?int $cooldownMs = null,
        public readonly ?string $note = null,
    ) {}

    public function jsonSerialize(): array
    {
        return array_filter([
            'rateLimit' => $this->rateLimit,
            'cooldownMs' => $this->cooldownMs,
            'note' => $this->note,
        ], static fn ($v) => $v !== null);
    }
}
```

---
#### 56


` File: src/Payloads/Responses/Infra/RetryDecisionResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Infra;

use JsonSerializable;

final class RetryDecisionResponse implements JsonSerializable
{
    public function __construct(
        public readonly bool $shouldRetry,
        public readonly ?int $delayMs = null,
        public readonly ?string $reason = null,
    ) {}

    public function jsonSerialize(): array
    {
        return array_filter([
            'shouldRetry' => $this->shouldRetry,
            'delayMs' => $this->delayMs,
            'reason' => $this->reason,
        ], static fn ($v) => $v !== null);
    }
}
```

---
#### 57


` File: src/Payloads/Responses/Ops/AuditRecordResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Ops;

use JsonSerializable;

final class AuditRecordResponse implements JsonSerializable
{
    public function __construct(
        public readonly bool $recorded = true,
        public readonly ?string $recordId = null,
    ) {}

    public function jsonSerialize(): array
    {
        return array_filter([
            'recorded' => $this->recorded,
            'recordId' => $this->recordId,
        ], static fn ($v) => $v !== null);
    }
}
```

---
#### 58


` File: src/Payloads/Responses/Ops/HealthCheckResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Ops;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;
use Dgp\Sdk\Types\Ops\HealthState;

final readonly class HealthCheckResponse implements Arrayable, JsonSerializable
{
    /**
     * @param array<string, mixed>|null $meta
     */
    public function __construct(
        public HealthState $state,
        public ?string     $message = null,
        public ?array      $meta = null,
    ) {}

    public function toArray(): array
    {
        return array_filter([
            'state' => $this->state->value,
            'message' => $this->message,
            'meta' => $this->meta,
        ], static fn ($v) => $v !== null);
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 59


` File: src/Payloads/Responses/Ops/ParseWebhookResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Ops;

use JsonSerializable;
use Dgp\Sdk\Types\Ops\WebhookEvent;

final class ParseWebhookResponse implements JsonSerializable
{
    public function __construct(
        public readonly WebhookEvent $event,
        public readonly bool $verified = false,
    ) {}

    public function jsonSerialize(): array
    {
        return [
            'event' => $this->event,
            'verified' => $this->verified,
        ];
    }
}
```

---
#### 60


` File: src/Payloads/Responses/Orders/CancelOrderResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Orders;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;

final readonly class CancelOrderResponse implements Arrayable, JsonSerializable
{
    /**
     * @param array<string, mixed>|null $meta
     */
    public function __construct(
        public bool    $canceled,
        public ?string $message = null,
        public ?array  $meta = null,
    ) {}

    public function toArray(): array
    {
        return array_filter([
            'canceled' => $this->canceled,
            'message' => $this->message,
            'meta' => $this->meta,
        ], static fn ($v) => $v !== null);
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 61


` File: src/Payloads/Responses/Orders/CreateOrderResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Orders;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;
use Dgp\Sdk\Types\Orders\OrderRef;

final readonly class CreateOrderResponse implements Arrayable, JsonSerializable
{
    public function __construct(
        public OrderRef $order,
    ) {}

    public function toArray(): array
    {
        return ['order' => $this->order->toArray()];
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 62


` File: src/Payloads/Responses/Orders/GetOrderStatusResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Orders;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;
use Dgp\Sdk\Types\Orders\OrderStatus;

final readonly class GetOrderStatusResponse implements Arrayable, JsonSerializable
{
    public function __construct(
        public OrderStatus $status,
    ) {}

    public function toArray(): array
    {
        return ['status' => $this->status->toArray()];
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 63


` File: src/Payloads/Responses/Refill/CreateRefillResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Refill;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;
use Dgp\Sdk\Types\Refill\RefillRef;

final readonly class CreateRefillResponse implements Arrayable, JsonSerializable
{
    public function __construct(
        public RefillRef $refill,
    ) {}

    public function toArray(): array
    {
        return ['refill' => $this->refill->toArray()];
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 64


` File: src/Payloads/Responses/Refill/GetRefillStatusResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Refill;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;
use Dgp\Sdk\Types\Refill\RefillStatus;

final readonly class GetRefillStatusResponse implements Arrayable, JsonSerializable
{
    public function __construct(
        public RefillStatus $status,
    ) {}

    public function toArray(): array
    {
        return ['status' => $this->status->toArray()];
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 65


` File: src/Payloads/Responses/Subscription/CancelSubscriptionResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Subscription;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;

final readonly class CancelSubscriptionResponse implements Arrayable, JsonSerializable
{
    /**
     * @param array<string, mixed>|null $meta
     */
    public function __construct(
        public bool    $cancelled,
        public ?string $providerMessage = null,
        public ?array  $meta = null,
    ) {}

    public function toArray(): array
    {
        return array_filter([
            'cancelled' => $this->cancelled,
            'provider_message' => $this->providerMessage,
            'meta' => $this->meta,
        ], static fn ($v) => $v !== null);
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 66


` File: src/Payloads/Responses/Subscription/CreateSubscriptionResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Subscription;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;
use Dgp\Sdk\Types\Subscription\SubscriptionRef;

final readonly class CreateSubscriptionResponse implements Arrayable, JsonSerializable
{
    public function __construct(
        public SubscriptionRef $subscription,
    ) {}

    public function toArray(): array
    {
        return ['subscription' => $this->subscription->toArray()];
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```

---
#### 67


` File: src/Payloads/Responses/Subscription/GetSubscriptionStatusResponse.php`  [↑ Back to top](#index)

```php
<?php
declare(strict_types=1);

namespace Dgp\Sdk\Payloads\Responses\Subscription;

use JsonSerializable;
use Dgp\Sdk\Support\Serialization\Arrayable;
use Dgp\Sdk\Types\Subscription\SubscriptionStatus;

final readonly class GetSubscriptionStatusResponse implements Arrayable, JsonSerializable
{
    public function __construct(
        public SubscriptionStatus $status,
    ) {}

    public function toArray(): array
    {
        return ['status' => $this->status->toArray()];
    }

    public function jsonSerialize(): array
    {
        return $this->toArray();
    }
}
```


---
*Generated with [Prodex](https://github.com/emxhive/prodex) — Codebase decoded.*
<!-- PRODEx v1.4.11 | 2026-01-25T02:30:48.802Z -->